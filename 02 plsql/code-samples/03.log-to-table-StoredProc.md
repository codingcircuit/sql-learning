## Write log to table using Stored Proc  

<br>  

### prerequisite

<br>  

##### creating table and sequence needed for this demo  

```sql
  CREATE TABLE DEBUG_TEXT (
	ID NUMBER(10)
	,OBJECT_NAME VARCHAR2(400)
	,LINE_NUMBER NUMBER(10)
	,FLAG VARCHAR2(100)
	,TEXT VARCHAR2(400)
	,TIME TIMESTAMP (6)
	);

   CREATE SEQUENCE  DEBUG_TEXT_ID  
   MINVALUE 1 
   MAXVALUE 9999999 
   INCREMENT BY 1;


```

<br>  

<br>  

##### create procedure to write log text to debug_text table  


```sql
create or replace PROCEDURE SP_DEBUG (
  p_TEXT varchar2
, p_flag varchar2
, p_Object_name varchar2 DEFAULT 'SQL Query' -- Value defaulted to 'SQL Query'
, p_Line_Number number DEFAULT 0 -- Value defaulted to 0
, p_id number DEFAULT Debug_text_id.nextval -- Value defaulted to Next Value of Sequence Debug_text_id
, p_TIME TIMESTAMP DEFAULT systimestamp -- Value defaulted to systimestamp
) 
IS
BEGIN
	INSERT INTO debug_text (TEXT, flag,Object_name,Line_Number,id,time)
	VALUES (p_TEXT, p_flag,p_Object_name,p_Line_Number,p_id,p_time);
	COMMIT;
END;
```



